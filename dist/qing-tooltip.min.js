/* qing-tooltip v0.0.1 | (c) Mycolorway Design | MIT License */
!function(t,o){"object"==typeof module&&module.exports?module.exports=o(require("jquery"),require("qing-module")):t.QingTooltip=o(t.jQuery,t.QingModule)}(this,function(t,o){var i=require=function t(o,i,e){function n(s,p){if(!i[s]){if(!o[s]){var h="function"==typeof require&&require;if(!p&&h)return h(s,!0);if(r)return r(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var u=i[s]={exports:{}};o[s][0].call(u.exports,function(t){var i=o[s][1][t];return n(i?i:t)},u,u.exports,t,o,i,e)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<e.length;s++)n(e[s]);return n}({"qing-tooltip":[function(i,e,n){var r,s=function(t,o){function i(){this.constructor=t}for(var e in o)p.call(o,e)&&(t[e]=o[e]);return i.prototype=o.prototype,t.prototype=new i,t.__super__=o.prototype,t},p={}.hasOwnProperty;r=function(o){function i(){return i.__super__.constructor.apply(this,arguments)}return s(i,o),i.opts={el:null,pointTo:null,content:null,position:"bottom",tpl:'<div class="qing-tooltip">\n</div>',cls:"",offset:0,trigger:"hover",appendTo:"body"},i.prototype.tooltip=null,i.prototype._setOptions=function(o){return i.__super__._setOptions.apply(this,arguments),t.extend(this.opts,i.opts,o)},i.prototype._init=function(){if(this.opts.content){if(this.el=t(this.opts.el),!(this.el.length>0))throw new Error("QingTooltip: option el is required");return this.el.data("qingTooltip")?this.el.data("qingTooltip"):(t.inArray(this.opts.position,["top","bottom","left","right"])<0&&(this.opts.position="bottom"),this.pointTo=this.el.find(this.opts.pointTo).filter(":visible").first(),this.pointTo.length||(this.pointTo=this.el),this.opts.appendTo&&(this.appendTo=t(this.opts.appendTo)),this._render(),this._bind(),this.el.data("qingTooltip",this),this.trigger("ready"))}},i.prototype._render=function(){return this.tooltip=t(this.opts.tpl),this.tooltip.html(this.opts.content),this.tooltip.addClass(this.opts.position),this.tooltip.addClass(this.opts.cls)},i.prototype._bind=function(){switch(this.opts.trigger){case"hover":return this.el.on("mouseenter.qingTooltip",function(t){return function(){return t.show()}}(this)),this.el.on("mouseleave.qingTooltip",function(t){return function(){return t.hide()}}(this));case"click":return this.el.on("mousedown.qingTooltip",function(o){return function(){return o.shown?o.hide:(o.show(),setTimeout(function(){return t(document).on("mousedown.qingTooltip",function(i){if(!t.contains(o.tooltip,i.target)&&o.tooltip[0]!==i.target)return o.hide()})}))}}(this))}},i.prototype._targetDimension=function(){var o,i,e,n;return i={width:this.pointTo.outerWidth(!0),height:this.pointTo.outerHeight(!0),innerWidth:this.pointTo.outerWidth(!1),innerHeight:this.pointTo.outerHeight(!1),margin:{left:parseInt(this.pointTo.css("marginLeft"))||0,right:parseInt(this.pointTo.css("marginRight"))||0,top:parseInt(this.pointTo.css("marginTop"))||0,bottom:parseInt(this.pointTo.css("marginBottom"))||0}},this.appendTo?(o=this.tooltip.offsetParent().offset(),n=this.pointTo.offset(),t.extend(i,{top:n.top-o.top-i.margin.top,left:n.left-o.left-i.margin.left})):(e=this.pointTo.position(),t.extend(i,{top:e.top,left:e.left}))},i.prototype._tooltipPosition=function(t){switch(this.opts.position){case"top":return{top:t.top+t.margin.top-(this.tooltip.outerHeight()+this.opts.offset),left:t.left+t.margin.left+t.innerWidth/2};case"bottom":return{top:t.top+t.margin.top+t.innerHeight+this.opts.offset,left:t.left+t.margin.left+t.innerWidth/2};case"left":return{top:t.top+t.margin.top+t.innerHeight/2,left:t.left+t.margin.left-(this.tooltip.outerWidth()+this.opts.offset)};case"right":return{top:t.top+t.margin.top+t.innerHeight/2,left:t.left+t.margin.left+t.innerWidth+this.opts.offset}}},i.prototype.show=function(){return this.shown=!0,this.appendTo?this.appendTo.append(this.tooltip):this.tooltip.insertAfter(this.pointTo),this.tooltip.css(this._tooltipPosition(this._targetDimension())),this.tooltip[0].offsetHeight,this.tooltip.addClass("active")},i.prototype.hide=function(){return this.shown=!1,this.tooltip.removeClass("active"),this.tooltip.detach(),t(document).off("mousedown.qingTooltip")},i.prototype.destroy=function(){if(this.el&&this.el.length>0)return this.hide(),this.tooltip.remove(),this.el.off(".qingTooltip"),t(document).off(".qingTooltip"),this.el.removeData("qingTooltip")},i}(o),e.exports=r},{}]},{},[]);return i("qing-tooltip")});